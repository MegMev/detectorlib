CLASS_DICT = ${CLASSES}

OBJS += $(patsubst %, dict/%.o ,$(CLASS_DICT))
OBJS += $(patsubst %, obj/%.o ,$(CLASSES))

all : $(OBJS)

#------------------------------------------------------------------------------
# Object generation of each class.
#------------------------------------------------------------------------------

obj/%.o: src/%.cxx inc/%.h 
# removed dict dependency...
	@echo "\033[40m\033[0;31m  Compiling object $@ ........\033[0m"
	@$(CC) $(FLAGS) $(INC_DIRS) -c -o $@ $<

dict/%.cxx: inc/%.h 
	@echo "\033[40m\033[0;31m Generating dictionary $@... \033[0m"
	@rootcint -f $@ -c $(INC_DIRS) $^

dict/%.o: dict/%.cxx
	@echo "\033[40m\033[0;32m Compiling object $@ \033[0m"
	@$(CC) $(FLAGS) $(INC_DIRS) -c -o $@ $<

clean:
	@rm obj/*
	@rm dict/*



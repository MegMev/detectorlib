

==========================================================
Date : 2nd / March / 2016
Branch : newInputData
Author : Gloria Luzón
Merge : #43
==========================================================

== Modified inputData. Distributions and generator sections===

README files have been added or updated to give information about Root files and histograms. Decay0 input data have been added. Azimutal angle distributions have been added.


==========================================================
Date : 22th / February / 2016
Branch : issue#10
Author : Javier Galan
Merge : #38
==========================================================

Adding units support to REST.

== RESTCORE ==

- TRestSystemOfUnits

  + New namespace REST_Units implemented in TRestSystemOfUnits
  + Units and conversion are defined inside TRestSystemOfUnits
  + Implemented units of : Energy, Time, Distance and Field.

- TRestMetadata

  + Added new methods to otain a parameter value renormalized to the standard REST units, using the coming units="" field. Any parameter that requires units is now defined using value="VV" units="UU". This can be read using the new methods in TRestMetadata.
      *  GetDblParameterWithUnits
      *  Get2DVectorParameterWithUnits
      *  Get3DVectorParameterWithUnits

== TRESTMETADATA ==

   + RestG4 metadata classes have been modified to retrieve the parameter values using the specified unit.

   + myConfig.rml has been updated.

== RESTPROCESSES ==

   + Several processes have been updated to retrieve the process parameters using the new units system.

   + myConfig.rml has been updated.

==========================================================
Date : 22th / February / 2016
Branch : issue#4
Author : Javier Gracia
Merge : #37
==========================================================

SetEventID and SetEventTime is now done in TRestRun after processing the events.
The methods are removed from each event process.

==========================================================
Date : 19th / February / 2016
Branch : processes
Author : Javier Galan
Merge : #36
==========================================================

== RESTCORE ==

- TRestRun. 
    + SetVersion now takes the commit identificative number and writes it in the filename.
    + The version member value inside TRestRun is properly updated now each time we open an output file, so that the version from the input file is not necesarily preserved.

== RESTMETADATA ==

- TRestReadout. 
    + GetX and GetY now verify the case where we have 1-pixel strip. In order to return NaN in the undefined direction.
    + Fixed a small spelling bug in GetX() and GetY().

== RESTTOOLS ==

- TRestMesh now associates a NaN value to node 0.

== RESTEVENTS ==

- TRestSignal and TRestSignalEvent.
    + TGraph has been removed from TRestSignalEvent. 
    + TRestSignal implements now a GetGraph method and defines the fGraph. 
    + Changes in TRestSignalEvent::DrawEvent using the new GetGraph method.
    + Removed vector2 member that was just used to return a value in a method!!

- TRestHits and TRestHitsEvent. Added new methods:
    + GetDistanceToNode( n ) : Obtains the distance from the first node to node n.
    + GetVector( n, m ) : Gets the vector defined by n and m hits.
    + GetClosestHit( position ) : Gets the closest hit to position.
    + GetProjection( n, m, position ) : Returns the longitudinal and transversal projections of position in the vector created by n and m nodes.
    + GetMeanDistance() : Returns the mean energy-weighted position of the hits.
    + Revisited areXY methods and GetXArray methods to properly handle NaN values.
    + GetXZHits methods now preserve the NaN values of the hits.
    + GetDistance method verifies now if the hits are projected in a particular plane.
    

- TRestTrackEvent. Added new methods:
    + GetOriginTrackID() : Finds the original track from which this track derives (the one with parentID = 0).

- New event types. TRestLinearTrack and TRestLinearizedTrackEvent.
    + A linear track stores longitudinal and transversal projections of the track inside a TRestSignal structure.
    + It includes additional members : trackEnergy, meanPosition.

== RESTPROCESSES ==

- TRestElectronDiffusionProcess.
    + fGas is properly initialized to NULL solving problem of segmentation fault when we use a TBrowser to open a file containning this process.

- TRestPathMinimizationProcess. 
    + Added error handling in case Heldkarp minimization method fails.

- TRestTRackReductionProcess.
    + The event processing has been modified. The process now starts merging hits at the new parameter startingDistance. All nodes within this distance will be merged. The process continues increasing the merging distance multiplying this distance by the new metadata parameter distanceStepFactor. The process continues as soon as the number of nodes is below the metadata parameter maxNodes or the metadata parameter minimumDistance has not been reached.

- New process. TRestTrackLinearizationProcess. 
    + This process projects the origin tracks from a TRestEventTrack using the top layer tracks (or nodes) as reference. The result is stored in the new event types TRestLinearizedTrackEvent.

== SCRIPTS ==

- New script. RESTSIM_G4ToSignal : Concatenates several simulation processes to obtain a Signal event directly from a Geant4 event.
- New script. RESTSIM_G4ToTrack : Concatanates simulation and analysis processes to obtain the final processed track event.

== INPUTDATA/CONFIG ==

- Uploaded AGET signal response files.
- Updated myConfig.rml with new metadata parameters of TRestTrackReductionProcess.
- Updated myConfig.rml with a new section for the new process TRestTrackLinearizationProcess.



==========================================================
Date : 18th / February / 2016
Branch : iss#31
Author : Javier Gracia
Merge : #35
==========================================================

Added attachment to ElectronDiffusionProcess. It requires the parameter atachment in the config file.

==========================================================
Date : 18th / February / 2016
Branch : gasFiles
Author : Elisa Ruiz Choliz 
Merge : #34
==========================================================

Adding gas mixture files
Adding in inputData/gasFiles/
- pure Xe
- pure He
- Ar+iso; Xe+iso; Xe+CF4 mixtures - 0.5,1,2,3,5%
- Xe+TMA mixture – 0.1,0.5,1,2,2.2,3,5%

Uploading in config/definitions/
- gases.rml

==========================================================
Date : 18th / February / 2016
Branch : iss#17
Author : Javier Gracia
Merge : #32
==========================================================

New process added. TRestAvalancheProcess (issue#17). It is a simple process that transmforms a TRestHitsEvent into another TRestHitsEvent. The primary electrons are multiplied by a gausian-distributed random factor, being the mean the detectorGain (metadata) and width scaled with the root of the energy taking as reference the energy resolution (metadata) at a given reference energy (metadata).

==========================================================
Date : 16th / February / 2016
Branch : iss#15
Author : Javier Gracia
Merge : #31
==========================================================

New signal process : TRestAddSignalNoiseProcess. It adds white gaussian noise to a TRestSignal. It converts a TRestSignal into another TRestSignal. The noise is introduced in electrons, not as an int number but as a float. It uses a metadata: noiseLevel that would define the noise standard deviation.

==========================================================
Date : 11th / February / 2016
Branch : restcoreUpdates
Author : Javier Galan
Merge : #30
==========================================================

- TRestRun. Added time measurement for event processing, writting and reading. The time measurement will print out on screen after it has finished processing all the events. It can be deactivated by commenting out the line #define TIME_MEASUREMENT. In future this might be given as an option for the compiler.

- TRestEvent. Added a new member, fOK. This member is initialized to true by the original input process (restG4 or restAGET, ...). The processes may set the status of the event to a BAD state using this member in case something went wrong processing that event.

==========================================================
Date : 9th / February / 2016
Branch : fastHitsToTrackProcess
Author : Javier Galan
Merge : #26
==========================================================

A new library has been created to store all the classes that are used as tools. TRestFFT has been moved to this new module libRestTools.so.

A new tool class TRestMesh has been created to help on definning node relation of a distribution of hits. A node is related to another node if it is found within 1-cell distance from it, then the nodes will be associated to the same group number.

For the moment node association to a group is defined by using 1-cell neighbour. This could be generalized in the future to n-cell neighbourds. Then we may increase cell granularity, and even define spherical node association topology.

A new process TRestFastHitsToTrackProcess has been added. This process uses TRestMesh to find the relation between the hits in order to define the tracks. The process requires to define the net size, net position and cell resolution (or size). See updates in myConfig.rml.


==========================================================
Date : 8th / February / 2016
Branch : configAndPaths 
Author : Javier Galan
Merge : #25
==========================================================

Issues #2 and #3 have been solved by this merge.

Changes in TRestMetadata related to config path definition and environmental values interpretation inside a config file.

New method TRestMetadata::ReplaceEnvironmentalVariables used to parse environmental variables inside a config file.

REST now will read configuration files from a path using the following priorities:

1) It will try to find first the configuration file inside REST_CONFIG

2) If it does not find the config file (or REST_CONFIG), it will try to find the config file in the directory where we are launching our executable

3) If still, it does not find the config file it will try to find it at REST_PATH/config.


Added CHANGELOG file. It should contain similar information to the information given when we do a merge request.


==========================================================
Date : 4th / February / 2016
Branch : iss25
Author : Javier Galan
Merge : #24
==========================================================

TRestMetadata, TRestReadout and TRestRun upgrades
+++++++++++++++++++++++++++++++++++++++++++++++++
Issues #18 , #19 and #25 have been solved by the merge.

TRestMetadata
-------------

The FOR loop implementation in config files has been modified. The tag "to" now includes the last value in the iteration.
<for from="1" to="N" step="1" > means it will do 1,2,...,N

TRestRun
--------

fRunIndex has been removed and fParentRunNumber has been implemented.
The run filename is now by default :
Run_experiment_user_processName_Tag_runNumber_parentNumber_codeVersion.root

Modifications related to overwrite option.
Now runNumber accepts option runNumber="auto". It will take by default an increasing value stored in inputData/runNumber.

TRestReadoutModule
------------------

New methods have been implemented

TRestReadoutMapping
-------------------

Solved bug related to mapping of module boundaries.

TRestReadoutPixel
-----------------

Solved bug related to pixel boundaries precision. Now pixel size is increased by a small size delta.